<div class="row g-3">
    <div class="col">
        <select class="form-select" aria-label="Default select year" id="yyyy" onchange="updateMonthOptions()">
            <option hidden value="2000">年を選択</option>
            {% for i in range(2010, 2023) %}
            <option value="{{ i }}">{{ i }}</option>
            {% endfor %}
        </select>
    </div>

    <div class="col">
        <select class="form-select" aria-label="Default select month" id="mm">
            <option hidden value="20">月を選択</option>
            {% for i in range(1, 13) %}
            {% if i > 7 and i < 13 and i < 8 %}
            <option value="{{ i }}" disabled>{{ i }}</option>
            {% else %}
            <option value="{{ i }}">{{ i }}</option>
            {% endif %}
            {% endfor %}
        </select>
    </div>

    <script>
        function updateMonthOptions() {
            const yyyy = document.getElementById("yyyy").value;
            const mmSelect = document.getElementById("mm");

            if (yyyy === "2022") {
                for (let i = 8; i <= 12; i++) {
                    mmSelect.options[i].disabled = true;
                }
            } else {
                for (let i = 8; i <= 12; i++) {
                    mmSelect.options[i].disabled = false;
                }
            }
        }
    </script>

    <div class="col">
        <button type="button" class="btn btn-primary" onclick="jump()">記事表示</button>
    </div>
</div>


<script>
    function jump() {
        const yyyy = document.getElementById("yyyy").value;
        const mm = document.getElementById("mm").value;

        if ((2009 < yyyy && yyyy < 2023) &&
            (0 < mm && mm < 13)) {
            window.location.href = `/${yyyy}/${mm}`;
        } else {
            alert("年月を選択！");
        }
    }
</script>